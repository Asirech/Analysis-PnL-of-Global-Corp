# Analysis-PnL-of-Global-Corp
LBB_1_Algoscam

## Data

```{r message=FALSE, warning=FALSE}
library(dplyr)
library(tidyverse)
library(lubridate)

```
### Read Data
```{r}
globalco <- read.csv("GLOBAL_CO.csv")
```

### Checking Data Type & Missing Values
```{r}
glimpse(globalco)

#Checking if any missing values
anyNA(globalco)
```

**some data not in correct type and need to convert it**

### Change Type Data & Column Name


```{r}
globalco_clean <- 
  globalco %>% 
  mutate (
    YEAR_MONTH = as.Date(YEAR_MONTH),
    COMPANY_CODE_DESC = as.factor(COMPANY_CODE_DESC),
    CUSTOMER = as.factor(CUSTOMER),
    DIVISION_NAME = as.factor(DIVISION_NAME)
  ) %>% 
  rename("SUBSIDARY_NAME" = "COMPANY_CODE_DESC")
globalco_clean$MONTH  <- month(globalco_clean$YEAR_MONTH,
                              label = T)
glimpse(globalco_clean)
```
**Now each field had changed to data type we need**

## GLOBAL PnL

### Summarise Global Pnl by Month

```{r}
Group_Pnl <- 
  globalco_clean %>% 
  group_by(MONTH) %>% 
  summarise(SALES = sum(SALES),
            COGS = sum(COGS),
            GROSS_PROFIT=sum(GROSS_PROFIT),
            OPERATING_EXPENSE = sum(OPERATING_EXPENSE),
            OPERATING_INCOME = sum(OPERATING_INCOME),
            NPAT = sum(NPAT),
            EBITDA = sum(EBITDA))
Group_Pnl
```

```{r}
Group_Pnl_ytd <- 
  globalco_clean %>% 
  summarise(SALES = sum(SALES),
            COGS = sum(COGS),
            GROSS_PROFIT=sum(GROSS_PROFIT),
            OPERATING_EXPENSE = sum(OPERATING_EXPENSE),
            OPERATING_INCOME = sum(OPERATING_INCOME),
            NPAT = sum(NPAT),
            EBITDA = sum(EBITDA))
Group_Pnl_ytd
```


### Check Correlation Between Operating Income & Operating Expense

From table above we could see that on Jan - Feb, Global Corp experiences Negative in Operating Income(OI)

OI formula = Gross Profit(GP) - Operating Expense(OPEX)

and OI has negative correlation with OPEX, Obviously

but let's check their correlation
```{r}
cor(Group_Pnl$OPERATING_INCOME,Group_Pnl$OPERATING_EXPENSE)
```
**Since the correlation was -0.3, means that OI and OPEX don't have strong correlation**

### View Top Sales, Operating Income, NPAT, EBITDA

**NPAT = Net Profit After Tax**
 is the measure of how well a company has performed after you remove its expenses, debts and taxes = aka how well its cash is flowing.

**EBITDA =  Earning Before Interest, Taxes, Depreciation, and Amortization**
Is an alternate measure of profitability to net income. By stripping out the non-cash depreciation and amortization expense as well as taxes and debt costs dependent on the capital structure, EBITDA attempts to represent cash profit generated by the companyâ€™s operations.

```{r}
Group_Pnl%>% 
  select(MONTH,SALES) %>% 
  arrange(desc(SALES)) 
  
Group_Pnl %>% 
  select(MONTH,OPERATING_INCOME) %>% 
  arrange(desc(OPERATING_INCOME)) 
 
Group_Pnl %>% 
  select(MONTH,NPAT) %>% 
  arrange(desc(NPAT)) 
  
Group_Pnl %>% 
  select(MONTH,EBITDA) %>% 
  arrange(desc(EBITDA))  
 

```
> Global has Top Sales on Mar but it didn't represent Operating Income, NPAT & EBITDA

> Top Operating Income & EBITDA was on JUNE

> NPAT was on SEPTEMBER


# SUBSIDIARIES & DIVISIONS  {.tabset .tabset-fade .tabset-pills}



## BY SUBSIDIARY

### Summarise Subsidiary PnL
```{r}
subsididary <- 
  globalco_clean %>% 
  select(SUBSIDARY_NAME,SALES,GROSS_PROFIT,OPERATING_INCOME,NPAT,EBITDA) %>% 
  group_by(SUBSIDARY_NAME) %>% 
  summarise(SALES = sum(SALES),
            GROSS_PROFIT = sum(GROSS_PROFIT),
            OPERATING_INCOME = sum(OPERATING_INCOME),
            NPAT = sum(NPAT),
            EBITDA = sum(EBITDA)) %>% 
  arrange(desc(SALES))
subsididary
```
### View Sales & and Top Contributor to Group base on Subsidiary

```{r}
subsididary$SALES[1]/Group_Pnl_ytd$SALES
```
RUNFAST GO is top Contributor to Group Sales, it has 50% part of cake followed by STORE ALL PRO

COMMERCE STORE has smallest contribution to Group Sales

## BY DIVISION

### Summarise Division PnL

```{r}
division<- 
  globalco_clean %>% 
  select(SUBSIDARY_NAME,DIVISION_NAME,SALES,GROSS_PROFIT,OPERATING_INCOME,NPAT,EBITDA) %>% 
  group_by(SUBSIDARY_NAME,DIVISION_NAME) %>% 
  summarise(SALES = sum(SALES),
            GROSS_PROFIT = sum(GROSS_PROFIT),
            OPERATING_INCOME = sum(OPERATING_INCOME),
            NPAT = sum(NPAT),
            EBITDA = sum(EBITDA)) %>% 
  arrange(desc(SALES))
division
```

```{r}
head(division)
```
TOP 5 Contributor base on Division are :

Division Non Bulk Transport & Rental, Export Import, Bulk Transportation from Subsidiary RUNFAST GO 

Division Package Warehouse, Bulk Warehouse from STORE ALL PRO




# CUSTOMERS {.tabset .tabset-fade .tabset-pills}

### Summarise Customer PnL and Selecting Top 10 

```{r}
customer<- 
  globalco_clean %>% 
  select(CUSTOMER,SALES,GROSS_PROFIT,OPERATING_INCOME,NPAT,EBITDA) %>% 
  group_by(CUSTOMER) %>% 
  summarise(SALES = sum(SALES),
            GROSS_PROFIT = sum(GROSS_PROFIT),
            OPERATING_INCOME = sum(OPERATING_INCOME),
            NPAT = sum(NPAT),
            EBITDA = sum(EBITDA)) %>% 
  arrange(desc(SALES)) %>% 
  top_n(10)
customer
```
